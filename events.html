<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Book Club Events</title>
  <style>
    .event-card {
      border: 1px solid #ddd;
      margin: 10px;
      padding: 15px;
    }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div id="event-filters">
    <select id="genre-filter">
      <option value="">All Genres</option>
      <option value="fiction">Fiction</option>
      <option value="non-fiction">Non-Fiction</option>
      <option value="sci-fi">Sci-Fi</option>
    </select>
    <input type="date" id="date-filter">
    <button id="clear-filters">Clear Filters</button>
  </div>
  <div id="events-container">
    <div class="event-card" data-genre="fiction" data-date="2024-03-15">
      <h2>Science Fiction Book Club</h2>
      <p>Virtual meetup discussing latest sci-fi novels</p>
      <button class="rsvp-btn">RSVP</button>
    </div>
    <div class="event-card" data-genre="non-fiction" data-date="2024-04-20">
      <h2>Biography Writers Talk</h2>
      <p>Panel discussion with biography authors</p>
      <button class="rsvp-btn">RSVP</button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const genreFilter = document.getElementById('genre-filter');
      const dateFilter = document.getElementById('date-filter');
      const clearFiltersBtn = document.getElementById('clear-filters');
      const eventCards = document.querySelectorAll('.event-card');
      const rsvpButtons = document.querySelectorAll('.rsvp-btn');
      
      // Genre Filter Event Listener
      genreFilter.addEventListener('change', filterEvents);
      // Date Filter Event Listener
      dateFilter.addEventListener('change', filterEvents);
      // Clear Filters Event Listener
      clearFiltersBtn.addEventListener('click', () => {
        genreFilter.value = '';
        dateFilter.value = '';
        filterEvents();
      });

      // RSVP Button Event Listeners
      rsvpButtons.forEach(btn => {
        btn.addEventListener('click', (e) => {
          const eventTitle = e.target.closest('.event-card').querySelector('h2').textContent;
          alert(`You've RSVP'd to: ${eventTitle}`);
          e.target.disabled = true;
          e.target.textContent = 'Registered';
        });
      });

      // Hover Effect Event Listeners
      eventCards.forEach(card => {
        card.addEventListener('mouseenter', (e) => {
          e.target.style.backgroundColor = '#f0f0f0';
        });
        card.addEventListener('mouseleave', (e) => {
          e.target.style.backgroundColor = '';
        });
      });

      // Keyboard Accessibility Event Listener
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          const focusedRsvpBtn = document.querySelector('.rsvp-btn:focus');
          if (focusedRsvpBtn) {
            focusedRsvpBtn.click();
          }
        }
      });

      // Add Search Input
      const searchInput = document.createElement('input');
      searchInput.setAttribute('type', 'text');
      searchInput.setAttribute('placeholder', 'Search events');
      searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        eventCards.forEach(card => {
          const eventText = card.textContent.toLowerCase();
          card.classList.toggle('hidden', !eventText.includes(searchTerm));
        });
      });
      document.getElementById('event-filters').prepend(searchInput);

      // Window Resize Event Listener for Responsive Design
      window.addEventListener('resize', () => {
        const containerWidth = document.getElementById('events-container').clientWidth;
        eventCards.forEach(card => {
          card.style.width = containerWidth < 600 ? '100%' : '45%';
        });
      });

      // Filter Events based on selected filters
      function filterEvents() {
        const selectedGenre = genreFilter.value;
        const selectedDate = dateFilter.value;
        eventCards.forEach(card => {
          const cardGenre = card.dataset.genre;
          const cardDate = card.dataset.date;
          const genreMatch = !selectedGenre || cardGenre === selectedGenre;
          const dateMatch = !selectedDate || cardDate === selectedDate;
          card.classList.toggle('hidden', !(genreMatch && dateMatch));
        });
      }
    });
  </script>
</body>
</html>
